(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{L1EO:function(e,t,i){},QfWi:function(e,t,i){"use strict";i.r(t);i("L1EO"),i("8cZI"),i("lmye"),i("JBxO"),i("FdtR");var n={refs:{filmContainer:document.querySelector(".filmContainer"),form:document.querySelector(".form"),next:document.querySelector(".next"),previous:document.querySelector(".previous"),output:document.querySelector(".output"),img:document.querySelectorAll(".list-item__image"),input:document.querySelector(".input"),favs:document.querySelector(".favorite"),li:document.querySelector(".li")},filmName:"",arr:[],getFilmName:function(e){this.filmName=e},nextFilms:function(e){var t=this;fetch("https://api.themoviedb.org/3/search/movie/?api_key=4aa539255aa0c2506cf45806a15a8a0a&language=en-US&query="+this.filmName+"&page="+e).then((function(e){return e.json()})).then((function(e){console.log(e),t.draw(e.results)}))},draw:function(e){console.log("param",e);var t=e.map((function(e){return'<li class="li" id="'+e.id+'"><h2 class="title">'+e.title+'</h2><img src="https://image.tmdb.org/t/p/w500/'+e.poster_path+'"></li>'})).join(" ");this.refs.filmContainer.innerHTML=t},searchNewFilms:function(e){var t=this;fetch("https://api.themoviedb.org/3/search/movie/?api_key=4aa539255aa0c2506cf45806a15a8a0a&language=en-US&query="+e).then((function(e){return e.json()})).then((function(e){console.log(e),t.draw(e.results)}))},number:1,defaultFilms:function(){var e=this;fetch("https://api.themoviedb.org/3/movie/popular?api_key=4aa539255aa0c2506cf45806a15a8a0a&language=en-US&page="+this.number).then((function(e){return e.json()})).then((function(t){console.log(t),e.draw(t.results)}))},showModal:function(e){var t=this;fetch("https://api.themoviedb.org/3/movie/"+e+"?api_key=e9f6322f77334e3f0406d6b8eabd79ce").then((function(e){return e.json()})).then((function(e){t.arr.push(e),localStorage.setItem("data",JSON.stringify(t.arr));var i={filmTitle:e.title,filmDescription:e.overview,filmImg:e.poster_path,filmRating:e.vote_average};console.log(i.filmImg),Swal.fire({title:i.filmTitle,text:i.filmDescription,imageUrl:"https://image.tmdb.org/t/p/w300/"+i.filmImg,imageWidth:300,imageHeight:300,imageAlt:i.filmTitle+" image"}).then((function(e){Swal.fire("Done!","Added to favorites!","success")})),console.log(i)}))},nextPage:function(){this.number+=1,this.nextFilms(this.number)},prevPage:function(){this.number-=1}};n.defaultFilms();n.refs.form.addEventListener("submit",(function(e){e.preventDefault();var t=e.target.elements[0].value;n.getFilmName(t),n.searchNewFilms(t),""!==t?n.searchNewFilms(t):""===t&&n.defaultFilms()}));n.refs.next.addEventListener("click",(function(e){e.preventDefault(),n.nextPage(),n.defaultFilms()})),n.refs.previous.addEventListener("click",(function(e){e.preventDefault(),n.prevPage(),n.defaultFilms()}));n.refs.filmContainer.addEventListener("click",(function(e){if("IMG"===e.target.nodeName){var t=e.target.closest("li").id;n.showModal(t)}}))}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.6e75bc90a3476d76fb93.js.map